{"version":3,"file":"js/769.771305e6.js","mappings":"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","sources":["webpack://resource/./src/views/Login.vue","webpack://resource/./src/api/login/login.js","webpack://resource/src/views/Login.vue","webpack://resource/./src/views/Login.vue?7d1c","webpack://resource/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"poster\"}},[_c('el-form',{ref:\"loginForm\",staticClass:\"loginContainer\",attrs:{\"model\":_vm.loginForm}},[_c('h3',{staticClass:\"loginTitle\"},[_vm._v(\" 系统登录 \")]),(_vm.isLoginFail)?_c('el-alert',{attrs:{\"title\":\"登陆失败\",\"type\":\"error\",\"description\":\"请检查账号密码是否正确\",\"show-icon\":\"\"}}):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"请输入账号\",\"clearable\":\"\"},model:{value:(_vm.loginForm.loginName),callback:function ($$v) {_vm.$set(_vm.loginForm, \"loginName\", $$v)},expression:\"loginForm.loginName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"请输入密码\",\"show-password\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.LoginButton.apply(null, arguments)}},model:{value:(_vm.loginForm.loginPassword),callback:function ($$v) {_vm.$set(_vm.loginForm, \"loginPassword\", $$v)},expression:\"loginForm.loginPassword\"}})],1),_c('div',{staticClass:\"tool\"},[_c('div'),_c('div',[_c('span',{staticClass:\"forgetPassword\",on:{\"click\":_vm.open2}},[_vm._v(\"忘记密码？\")])])]),_c('el-form-item',{staticClass:\"button\"},[_c('el-button',{staticClass:\"button1\",attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.LoginButton}},[_vm._v(\"登录\")]),_c('el-button',{attrs:{\"type\":\"info\",\"round\":\"\"},on:{\"click\":_vm.toRegister}},[_vm._v(\"注册\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 对API进行统一管理\r\nimport requests from \"@/utils/requests\";\r\n\r\nconst url = \"/abc/login\"\r\n\r\n// 登录\r\n/**\r\n * @URL /abc/login\r\n * @method post\r\n * @param useraccount,password\r\n */\r\nexport const login = ({useraccount,password}) => {\r\n  return requests.post(url, {\r\n    useraccount: useraccount,\r\n    password: password\r\n  }, {\r\n    headers:{'Content-Type': 'application/x-www-form-urlencoded'}\r\n  });\r\n}\r\n","<template>\r\n  <div id=\"poster\">\r\n    <el-form class=\"loginContainer\" ref=\"loginForm\" :model=\"loginForm\">\r\n      <h3 class=\"loginTitle\">\r\n        系统登录\r\n      </h3>\r\n\r\n      <el-alert\r\n        v-if= isLoginFail\r\n        title=\"登陆失败\"\r\n        type=\"error\"\r\n        description=\"请检查账号密码是否正确\"\r\n        show-icon>\r\n      </el-alert>\r\n\r\n      <el-form-item label=\"\">\r\n        <el-input v-model=\"loginForm.loginName\" autocomplete=\"off\" placeholder=\"请输入账号\" clearable></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <el-input v-model=\"loginForm.loginPassword\" autocomplete=\"off\" placeholder=\"请输入密码\" show-password  @keyup.enter.native=\"LoginButton\"></el-input>\r\n      </el-form-item>\r\n      <div class=\"tool\">\r\n        <div>\r\n          \r\n        </div>\r\n        <div>\r\n          <span class=\"forgetPassword\" @click=\"open2\">忘记密码？</span>\r\n        </div>\r\n      </div>\r\n      <el-form-item class=\"button\">\r\n        <el-button class=\"button1\" type=\"danger\" round @click=\"LoginButton\">登录</el-button>\r\n        <el-button type=\"info\" round @click=\"toRegister\">注册</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookie from \"js-cookie\"\r\nimport { login } from \"@/api/login/login\"\r\nexport default {\r\n  name: 'App-Login',\r\n\r\n  data() {\r\n    return {\r\n      loginForm: {\r\n        loginName: '',\r\n        loginPassword: '',\r\n      },\r\n      checked: false,\r\n      isLoginFail: false\r\n    }\r\n  },\r\n  methods: {\r\n    // 登录按钮\r\n    LoginButton() {\r\n      // this.$router.replace(\"/admin\");\r\n      // console.log({useraccount: this.loginForm.loginName, password: this.loginForm.loginPassword});\r\n      login({useraccount: this.loginForm.loginName, password: this.loginForm.loginPassword})\r\n        .then((res) => {\r\n          console.log(\"用户信息-----\",res);\r\n          if(res.data.code === 1){\r\n            // 请求成功后跳转到指定路由界面\r\n            Cookie.set(\"token\",res.data.data.token);\r\n            this.$store.dispatch(\"login/setAccount\", res.data.data.account);\r\n            this.$store.dispatch(\"login/setId\", res.data.data.id);\r\n            this.$store.dispatch(\"login/setName\", res.data.data.name);\r\n            this.$store.dispatch(\"login/setRole\", res.data.role);\r\n            this.$store.dispatch(\"login/setToken\", res.data.data.token);\r\n\r\n            this.$message({\r\n              showClose:true,\r\n              type:\"success\",\r\n              message:\"成功登录！喜欢您来\",\r\n            })\r\n            if(res.data.role === \"admin\"){\r\n              this.$router.replace(\"/admin\");\r\n            } else if(res.data.role === \"user\") {\r\n              this.$router.replace(\"/user\");\r\n            }\r\n          } else{\r\n            this.loginForm = {},\r\n            this.isLoginFail = true\r\n          }\r\n        })\r\n    },\r\n\r\n    // 注册\r\n    toRegister() {\r\n      this.$router.push({path:\"/register\"})\r\n    },\r\n    // 是否记住密码\r\n    remenber(data){\r\n      this.checked = data\r\n      if(this.checked){\r\n          localStorage.setItem(\"news\",JSON.stringify(this.form))\r\n      }else{\r\n        localStorage.removeItem(\"news\")\r\n      }\r\n    },\r\n    // 忘记密码\r\n    open2() {\r\n      this.$message({\r\n        showClose:true,\r\n        type:\"success\",\r\n        message:\"恭喜你忘记了密码！(蒸乌鱼😥)\",\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  #poster{\r\n    height: 100%;\r\n    width: 100%;\r\n    min-width: 1000px;\r\n    min-height: 800px;\r\n    position: fixed;\r\n    background-position: center center;\r\n    background-size: cover;\r\n    background-image: url(\"../assets/loginBackground.jpg\");\r\n    overflow: auto;\r\n    padding-top: 150px;\r\n  }\r\n  .loginContainer{\r\n    width: 400px;\r\n    height: 300px;\r\n    transform: translate(-50%);\r\n    margin-left: 50%;\r\n    padding: 80px 100px;\r\n    box-shadow: 5px 5px 10px rgb(179, 86, 86);\r\n    border-radius: 20px;\r\n  }\r\n  .loginTitle {\r\n    margin-bottom: 20px;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    font-size: 250%;\r\n    font-weight: bolder;\r\n    color: white;\r\n    text-shadow: 2px 2px 4px #000000;\r\n  }\r\n  .el-alert{\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n  }\r\n  .tool {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .remeberPassword{\r\n    color: #b3b3b3;\r\n    text-shadow: 2px 2px 4px #000000;\r\n  }\r\n  .forgetPassword {\r\n    font-size: 14px;\r\n    color: #b3b3b3;\r\n    text-shadow: 2px 2px 4px #000000;\r\n    cursor: pointer;\r\n  }\r\n  .button{\r\n    margin-top: 50px;\r\n    text-align: center;\r\n  }\r\n  .button1{\r\n    margin-right: 40px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=af675402&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=af675402&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af675402\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","ref","staticClass","loginForm","_v","isLoginFail","_e","model","value","loginName","callback","$$v","$set","expression","nativeOn","$event","type","indexOf","_k","keyCode","key","LoginButton","apply","arguments","loginPassword","on","open2","toRegister","staticRenderFns","url","login","useraccount","password","requests","post","headers","name","data","checked","methods","then","res","console","log","code","Cookie","set","token","$store","dispatch","account","id","role","$message","showClose","message","$router","replace","push","path","remenber","localStorage","setItem","JSON","stringify","form","removeItem","component"],"sourceRoot":""}