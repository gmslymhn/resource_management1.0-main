{"version":3,"file":"js/288.b3c6ea33.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACJ,EAAIK,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,WAAW,CAACE,YAAY,wBAAwBE,MAAM,CAAC,MAAQN,EAAIO,gBAAgB,IAAM,KAAK,CAACL,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,QAAQE,GAAG,CAAC,MAAQR,EAAIS,sBAAsB,CAACT,EAAIU,GAAG,WAAW,GAAGR,EAAG,WAAW,CAACE,YAAY,sBAAsBE,MAAM,CAAC,MAAQN,EAAIW,cAAc,IAAM,KAAK,CAACT,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,YAAY,CAACN,EAAIU,GAAG,WAAW,IAAI,GAAGR,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,WAAW,CAACU,IAAI,cAAcR,YAAY,cAAcS,YAAY,CAAC,MAAQ,QAAQP,MAAM,CAAC,KAAON,EAAIc,YAAY,CAACZ,EAAG,kBAAkB,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,UAAU,MAAQ,UAAUJ,EAAG,kBAAkB,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,cAAc,MAAQ,WAAWJ,EAAG,kBAAkB,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,YAAY,MAAQ,WAAWJ,EAAG,kBAAkB,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,cAAc,MAAQ,OAAO,UAAYN,EAAIe,aAAab,EAAG,kBAAkB,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,aAAa,MAAQ,KAAK,QAAU,CAAC,CAAEU,KAAM,MAAOC,MAAO,QAAS,gBAAgBjB,EAAIkB,UAAU,mBAAmB,cAAcC,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACrB,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,OAAO,sBAAsB,KAAK,CAACN,EAAIU,GAAGV,EAAIwB,GAAGD,EAAME,IAAIC,eAAe,OAAOxB,EAAG,kBAAkB,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,mBAAmB,MAAQ,YAAYJ,EAAG,kBAAkB,CAACI,MAAM,CAAC,MAAQ,SAAS,KAAO,YAAY,MAAQ,OAAO,SAAW,GAAG,MAAQ,MAAM,aAAa,eAAeJ,EAAG,kBAAkB,CAACI,MAAM,CAAC,MAAQ,MAAMa,YAAYnB,EAAIoB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACrB,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWE,GAAG,CAAC,MAAQ,SAASmB,GAAQ,OAAO3B,EAAI4B,cAAcL,EAAMM,OAAQN,EAAME,IAAI,IAAI,CAACzB,EAAIU,GAAG,QAAQ,QAAQ,GAAGR,EAAG,YAAY,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,SAAS,QAAUN,EAAI8B,sBAAsB,kBAAiB,GAAMtB,GAAG,CAAC,iBAAiB,SAASmB,GAAQ3B,EAAI8B,sBAAsBH,CAAM,IAAI,CAACzB,EAAG,UAAU,CAACU,IAAI,UAAUR,YAAY,gBAAgBE,MAAM,CAAC,MAAQN,EAAI+B,QAAQ,MAAQ/B,EAAIgC,QAAQ,CAAC9B,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,YAAY,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,UAAW,GAAM2B,MAAM,CAAChB,MAAOjB,EAAI+B,QAAQG,QAASC,SAAS,SAAUC,GAAMpC,EAAIqC,KAAKrC,EAAI+B,QAAS,UAAWK,EAAI,EAAEE,WAAW,sBAAsB,GAAGpC,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,cAAc,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,UAAW,GAAM2B,MAAM,CAAChB,MAAOjB,EAAI+B,QAAQQ,UAAWJ,SAAS,SAAUC,GAAMpC,EAAIqC,KAAKrC,EAAI+B,QAAS,YAAaK,EAAI,EAAEE,WAAW,wBAAwB,GAAGpC,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,qBAAqB,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,WAAW,UAAW,GAAM2B,MAAM,CAAChB,MAAOjB,EAAI+B,QAAQS,iBAAkBL,SAAS,SAAUC,GAAMpC,EAAIqC,KAAKrC,EAAI+B,QAAS,mBAAoBK,EAAI,EAAEE,WAAW,+BAA+B,GAAGpC,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACJ,EAAG,WAAW,CAAC+B,MAAM,CAAChB,MAAOjB,EAAI+B,QAAQU,YAAaN,SAAS,SAAUC,GAAMpC,EAAIqC,KAAKrC,EAAI+B,QAAS,cAAe/B,EAAI0C,GAAGN,GAAK,EAAEE,WAAW,0BAA0B,GAAGpC,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,gBAAgB,KAAO,eAAe,CAACJ,EAAG,iBAAiB,CAAC+B,MAAM,CAAChB,MAAOjB,EAAI+B,QAAQL,WAAYS,SAAS,SAAUC,GAAMpC,EAAIqC,KAAKrC,EAAI+B,QAAS,aAAcK,EAAI,EAAEE,WAAW,uBAAuB,CAACpC,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,QAAQJ,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,UAAU,IAAI,GAAGJ,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,uBAAuB,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,YAAY2B,MAAM,CAAChB,MAAOjB,EAAI+B,QAAQY,mBAAoBR,SAAS,SAAUC,GAAMpC,EAAIqC,KAAKrC,EAAI+B,QAAS,qBAAsBK,EAAI,EAAEE,WAAW,iCAAiC,GAAGpC,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,MAAQ,SAASmB,GAAQ,OAAO3B,EAAI4C,YAAY,IAAI,CAAC5C,EAAIU,GAAG,UAAU,GAAGR,EAAG,MAAM,CAACE,YAAY,gBAAgBE,MAAM,CAAC,KAAO,UAAUuC,KAAK,UAAU,CAAC3C,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASmB,GAAQ3B,EAAI8B,uBAAwB,CAAK,IAAI,CAAC9B,EAAIU,GAAG,UAAU,IAAI,IAAI,GAAGR,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,aAAa,CAACI,MAAM,CAAC,MAAQN,EAAI8C,MAAM,WAAa9C,EAAI+C,YAAYvC,GAAG,CAAC,cAAgBR,EAAIgD,kBAAkB,IAC/pI,EACIC,EAAkB,CAAC,WAAY,IAAIjD,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,cAAc,CAACJ,EAAIU,GAAG,YACrJ,G,yFCqJA,GACAwC,KAAA,wBACAC,WAAA,CAAAC,WAAAA,EAAAA,GAEAC,IAAAA,GACA,OAEAvC,UAAA,GAEAiB,QAAA,CAGAQ,UAAA,GACAC,iBAAA,GAGAN,QAAA,GACAoB,cAAA,GACAC,YAAA,GACA7B,WAAA,GACAiB,mBAAA,IAGAX,MAAA,CACAN,WAAA,CACA,CAAA8B,UAAA,EAAAC,QAAA,UAAAC,QAAA,WAEAf,mBAAA,CACA,CAAAa,UAAA,EAAAC,QAAA,UAAAC,QAAA,UAKAZ,MAAA,EAEAC,WAAA,GAEAY,SAAA,EAEAC,QAAA,EAEA9B,uBAAA,EAEAvB,gBAAA,GAEAI,cAAA,GAEA,EAEAkD,QAAA,CAEA,0BAAAC,CAAAF,GACA,IAAAG,QAAAC,EAAAA,EAAAA,IAAA,CAAAJ,QAAAA,IACAK,QAAAC,IAAA,iBAAAH,GACAA,EAAAV,OAEA,KAAAvC,UAAA,IAAAiD,EAAAV,KAAAA,KAAAc,MACA,KAAArB,MAAAiB,EAAAV,KAAAA,KAAAP,MACA,KAAAC,WAAAgB,EAAAV,KAAAA,KAAAe,MACA,KAAAtD,UAAAuD,SAAAC,IACAA,EAAAC,UAAAC,IAAAF,EAAAC,WAAAE,OAAA,0BAGA,EAGA,+BAAAC,CAAAxC,EAAAqB,EAAAD,EAAA5B,EAAAiB,GACA,IAAAoB,GAAAY,EAAAA,EAAAA,IAAA,CAAAzC,QAAAA,EAAAqB,YAAAA,EAAAD,cAAAA,EAAA5B,WAAAA,EAAAiB,mBAAAA,IACAsB,QAAAC,IAAA,cAAAH,GACA,MAAAA,EAAAa,QACA,KAAAC,SAAA,CACAC,KAAA,UACArB,QAAA,WAGA,KAAAK,qBAAA,GAEA,EAGAlB,UAAAA,GACA,KAAAmC,MAAAhD,QAAAiD,UAAAC,IACA,IAAAA,EAQA,OADAhB,QAAAC,IAAA,mBACA,EAPA,KAAAnC,QAAAuB,cAAA4B,OAAA,KAAAnD,QAAAuB,eACAW,QAAAC,IAAA,mBAAAnC,SACA,KAAA2C,0BAAA,KAAA3C,QAAAG,QAAA,KAAAH,QAAAwB,YAAA,KAAAxB,QAAAuB,cAAA,KAAAvB,QAAAL,WAAA,KAAAK,QAAAY,oBAEA,KAAAb,uBAAA,CAIA,GAEA,EAGAF,aAAAA,CAAAuD,EAAA1D,GACAwC,QAAAC,IAAA,YAAAiB,EAAA1D,GAEA,KAAAK,uBAAA,EAEA,KAAAsD,uBAAA,SAGA,KAAArD,QAAAsD,YAAA5D,EAAA4D,YACA,KAAAtD,QAAAQ,UAAAd,EAAAc,UACA,KAAAR,QAAAU,YAAAhB,EAAAgB,YACA,KAAAV,QAAAS,iBAAAf,EAAAe,iBAGA,KAAAT,QAAAG,QAAAT,EAAAS,QACA,KAAAH,QAAAL,WAAAD,EAAAC,WACA,KAAAK,QAAAuB,cAAA,KAAAgC,OAAAV,MAAAW,MAAAC,GACA,KAAAzD,QAAAwB,YAAA,KAAA+B,OAAAV,MAAAW,MAAArC,IAEA,EAGAF,aAAAA,CAAAyC,GACAxB,QAAAC,IAAA,YAAAuB,GACA,KAAA7B,QAAA6B,EACA,KAAA3B,qBAAA2B,EAAA,KAAA9B,SACA,EAEA5C,SAAAA,CAAAU,EAAAiE,GACA,OAAAjE,EAAAgB,WACA,EACAvB,SAAAA,CAAAD,EAAAQ,GACA,OAAAA,EAAAC,aAAAT,CACA,EACA0E,WAAAA,GACA,KAAAZ,MAAAa,YAAAD,aACA,EAGAlF,qBAAAoF,EAAAA,EAAAA,IAAA,WACA,KAAAC,QAAAC,KAAA,CAAA7C,KAAA,2BAAA8C,OAAAC,GAAAA,GACA,UAGAC,OAAAA,GAEA,KAAApC,qBAAA,KAAAF,QACA,EAEAuC,OAAAA,IACAC,EAAAA,EAAAA,GAAA,OACAC,EAAAA,EAAAA,KAAAC,MAAAC,IACAtC,QAAAC,IAAA,cAAAqC,GACA,KAAAhG,gBAAAgG,EAAAlD,KAAAA,IAAA,KAGAmD,EAAAA,EAAAA,KAAAF,MAAAG,IACAxC,QAAAC,IAAA,YAAAuC,GACA,KAAA9F,cAAA8F,EAAApD,KAAAA,IAAA,GAEA,GCpT+Q,I,UCQ3QqD,GAAY,OACd,EACA3G,EACAkD,GACA,EACA,KACA,WACA,MAIF,EAAeyD,EAAiB,O","sources":["webpack://resource/./src/views/product/message/MessageAssets.vue","webpack://resource/src/views/product/message/MessageAssets.vue","webpack://resource/./src/views/product/message/MessageAssets.vue?3658","webpack://resource/./src/views/product/message/MessageAssets.vue?a5e2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"messageAssets\"},[_vm._m(0),_c('div',{staticClass:\"messageHeader\"},[_c('el-badge',{staticClass:\"messageHeaderReported\",attrs:{\"value\":_vm.reportedMessage,\"max\":99}},[_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.gotoMessageReported}},[_vm._v(\"损坏上报\")])],1),_c('el-badge',{staticClass:\"messageHeaderAssets\",attrs:{\"value\":_vm.assetsMessage,\"max\":99}},[_c('el-button',{attrs:{\"type\":\"success\"}},[_vm._v(\"资金审批\")])],1)],1),_c('div',{staticClass:\"messageAssetsInner\"},[_c('el-table',{ref:\"filterTable\",staticClass:\"assetsTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"applyId\",\"label\":\"申请id\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"applyNameId\",\"label\":\"申请人id\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"applyName\",\"label\":\"申请人名称\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"applyAssets\",\"label\":\"申请金额\",\"formatter\":_vm.formatter}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"applyState\",\"label\":\"状态\",\"filters\":[{ text: '未处理', value: '未处理' }],\"filter-method\":_vm.filterTag,\"filter-placement\":\"bottom-end\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":\"info\",\"disable-transitions\":\"\"}},[_vm._v(_vm._s(scope.row.applyState))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"applyDescription\",\"label\":\"申请信息描述\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"applyTime\",\"label\":\"申请时间\",\"sortable\":\"\",\"width\":\"160\",\"column-key\":\"applyTime\"}}),_c('el-table-column',{attrs:{\"label\":\"处理\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.disposeButton(scope.$index, scope.row)}}},[_vm._v(\"处理\")])]}}])})],1),_c('el-dialog',{staticClass:\"itemsDialog\",attrs:{\"title\":\"申请资金处理\",\"visible\":_vm.dialogFormVisibleEdit,\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.dialogFormVisibleEdit=$event}}},[_c('el-form',{ref:\"dispose\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.dispose,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"申请id\",\"prop\":\"applyId\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.dispose.applyId),callback:function ($$v) {_vm.$set(_vm.dispose, \"applyId\", $$v)},expression:\"dispose.applyId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"申请人\",\"prop\":\"applyName\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.dispose.applyName),callback:function ($$v) {_vm.$set(_vm.dispose, \"applyName\", $$v)},expression:\"dispose.applyName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"申请描述\",\"prop\":\"applyDescription\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"disabled\":true},model:{value:(_vm.dispose.applyDescription),callback:function ($$v) {_vm.$set(_vm.dispose, \"applyDescription\", $$v)},expression:\"dispose.applyDescription\"}})],1),_c('el-form-item',{attrs:{\"label\":\"申请资金\",\"prop\":\"applyAssets\"}},[_c('el-input',{model:{value:(_vm.dispose.applyAssets),callback:function ($$v) {_vm.$set(_vm.dispose, \"applyAssets\", _vm._n($$v))},expression:\"dispose.applyAssets\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否同意申请资金添加新物品\",\"prop\":\"applyState\"}},[_c('el-radio-group',{model:{value:(_vm.dispose.applyState),callback:function ($$v) {_vm.$set(_vm.dispose, \"applyState\", $$v)},expression:\"dispose.applyState\"}},[_c('el-radio',{attrs:{\"label\":\"同意\"}}),_c('el-radio',{attrs:{\"label\":\"不同意\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"处理人描述\",\"prop\":\"disposeDescription\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.dispose.disposeDescription),callback:function ($$v) {_vm.$set(_vm.dispose, \"disposeDescription\", $$v)},expression:\"dispose.disposeDescription\"}})],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm()}}},[_vm._v(\"提 交\")])],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisibleEdit = false}}},[_vm._v(\"关 闭\")])],1)],1)],1),_c('div',{staticClass:\"pagination\"},[_c('Pagination',{attrs:{\"total\":_vm.total,\"totalPages\":_vm.totalPages},on:{\"currentChange\":_vm.currentChange}})],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"itemsText\"},[_c('p',{staticClass:\"itemsTextP\"},[_vm._v(\"管理员审批\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"messageAssets\">\r\n    \r\n    <div class=\"itemsText\">\r\n      <p class=\"itemsTextP\">管理员审批</p>\r\n    </div>\r\n\r\n    <div class=\"messageHeader\">\r\n      <!-- 损坏上报 -->\r\n      <el-badge :value=\"reportedMessage\" :max=\"99\" class=\"messageHeaderReported\">\r\n        <el-button type=\"info\" @click=\"gotoMessageReported\">损坏上报</el-button>\r\n      </el-badge>\r\n      <!-- 资金审批 -->\r\n      <el-badge :value=\"assetsMessage\" :max=\"99\" class=\"messageHeaderAssets\">\r\n        <el-button type=\"success\">资金审批</el-button>\r\n      </el-badge>\r\n    </div>\r\n\r\n    <div class=\"messageAssetsInner\">\r\n      <!-- 表格 -->\r\n      <el-table\r\n        class=\"assetsTable\" \r\n        ref=\"filterTable\"\r\n        :data=\"tableData\"\r\n        style=\"width: 100%\">\r\n        <!-- 申请id -->\r\n        <el-table-column\r\n          align='center'\r\n          prop=\"applyId\"\r\n          label=\"申请id\">\r\n        </el-table-column>\r\n        <!-- 申请人id -->\r\n        <el-table-column\r\n          align='center'\r\n          prop=\"applyNameId\"\r\n          label=\"申请人id\">\r\n        </el-table-column>\r\n        <!-- 申请人名称 -->\r\n        <el-table-column\r\n          align='center'\r\n          prop=\"applyName\"\r\n          label=\"申请人名称\">\r\n        </el-table-column>\r\n        <!-- 申请金额 -->\r\n        <el-table-column\r\n          align='center'\r\n          prop=\"applyAssets\"\r\n          label=\"申请金额\"\r\n          :formatter=\"formatter\">\r\n        </el-table-column>\r\n        <!-- 申请状态 -->\r\n        <el-table-column\r\n          align='center'\r\n          prop=\"applyState\"\r\n          label=\"状态\"\r\n          :filters=\"[{ text: '未处理', value: '未处理' }]\"\r\n          :filter-method=\"filterTag\"\r\n          filter-placement=\"bottom-end\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag\r\n              type=\"info\"\r\n              disable-transitions>{{scope.row.applyState}}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- 申请信息描述 -->\r\n        <el-table-column\r\n          align='center'\r\n          prop=\"applyDescription\"\r\n          label=\"申请信息描述\">\r\n        </el-table-column> \r\n        <!-- 申请时间 -->\r\n        <el-table-column\r\n          align='center'\r\n          prop=\"applyTime\"\r\n          label=\"申请时间\"\r\n          sortable\r\n          width=\"160\"\r\n          column-key=\"applyTime\">\r\n        </el-table-column>\r\n        <!-- 处理操作 -->\r\n        <el-table-column label=\"处理\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"warning\"\r\n            @click=\"disposeButton(scope.$index, scope.row)\">处理</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 弹窗 -->\r\n      <el-dialog title=\"申请资金处理\" :visible.sync=\"dialogFormVisibleEdit\" :append-to-body=\"true\" class=\"itemsDialog\">\r\n      \r\n      <el-form :model=\"dispose\" :rules=\"rules\" ref=\"dispose\" class=\"demo-ruleForm\">\r\n        \r\n        <el-form-item label=\"申请id\" prop=\"applyId\">\r\n          <el-input v-model=\"dispose.applyId\" :disabled=\"true\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"申请人\" prop=\"applyName\">\r\n          <el-input v-model=\"dispose.applyName\" :disabled=\"true\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"申请描述\" prop=\"applyDescription\">\r\n          <el-input type=\"textarea\" v-model=\"dispose.applyDescription\" :disabled=\"true\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"申请资金\" prop=\"applyAssets\">\r\n          <el-input v-model.number=\"dispose.applyAssets\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"是否同意申请资金添加新物品\" prop=\"applyState\">\r\n          <el-radio-group v-model=\"dispose.applyState\">\r\n            <el-radio label=\"同意\"></el-radio>\r\n            <el-radio label=\"不同意\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"处理人描述\" prop=\"disposeDescription\">\r\n          <el-input type=\"textarea\" v-model=\"dispose.disposeDescription\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-button type=\"primary\" @click=\"submitForm()\">提 交</el-button>\r\n\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisibleEdit = false\">关 闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    </div>\r\n\r\n     <!-- 分页 -->\r\n    <div class=\"pagination\">\r\n      <Pagination :total=\"total\" :totalPages=\"totalPages\" @currentChange=\"currentChange\"></Pagination>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { unprocessedApply,updateProcessedApply } from \"@/api/message/messageAssets\"\r\n// 节流\r\nimport { throttle } from 'lodash-es';\r\n// 分页\r\nimport Pagination from '@/components/pagination/Pagination';\r\nimport getMessageQuantity from \"@/utils/getMessageQuantity\";\r\nimport getUnprocessedReportNum from \"@/utils/getReportedMessage\"\r\nimport getUnprocessedAssetsNum from \"@/utils/getAssetsMessage\"\r\n// 时间戳处理\r\nimport dayjs from 'dayjs';\r\nexport default {\r\n  name: 'Message-MessageAssets',\r\n  components:{Pagination,},\r\n\r\n  data() {\r\n    return {\r\n      // 列表\r\n      tableData: [],\r\n      // 处理信息\r\n      dispose: {\r\n        // 不可修改的框框\r\n        // applyId: '',             // 申请id，这个既不可修改也post\r\n        applyName: '',              // 申请人\r\n        applyDescription: '',       // 申请描述\r\n\r\n        // post的数据\r\n        applyId: '',                // 申请id，这个既不可修改也post\r\n        disposeNameId: '',          // 处理人id\r\n        disposeName: '',            // 处理人名称\r\n        applyState: '',             // 处理状态\r\n        disposeDescription:''       // 处理人描述\r\n      },\r\n      // 处理信息规则\r\n      rules: {\r\n        applyState: [\r\n          { required: true, message: '请选择处理状态', trigger: 'change' }\r\n        ],\r\n        disposeDescription: [\r\n          { required: true, message: '请填入处理描述', trigger: 'blur' }\r\n        ]\r\n      },\r\n      // 关于页码\r\n      // 总共条数\r\n      total: 0,\r\n      // 页码数量\r\n      totalPages: 10,\r\n      // 当前页码有几个\r\n      pageSize: 7,\r\n      // 当前页码\r\n      pageNum: 1,\r\n      // 控制弹窗\r\n      dialogFormVisibleEdit: false,\r\n      // 损坏上报未处理信息数\r\n      reportedMessage: '',\r\n      // 资金申请未处理信息数\r\n      assetsMessage: '',\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // [查询]未(待)处理资金申请记录接口\r\n    async getUnprocessedAssets(pageNum){\r\n      let res = await unprocessedApply({pageNum: pageNum})\r\n      console.log(\"未处理资金申请数据-----\",res)\r\n      if(res.data){\r\n        // 列表赋值\r\n        this.tableData = [...res.data.data.list]\r\n        this.total = res.data.data.total\r\n        this.totalPages = res.data.data.pages\r\n        this.tableData.forEach( e => {\r\n          e.applyTime = dayjs(e.applyTime).format(\"YYYY-MM-DD HH:mm:ss\");\r\n        })\r\n      }\r\n    },\r\n\r\n    // [更新]管理员处理(未处理的)损坏记录信息接口\r\n    async postUpdateProcessedAssets(applyId,disposeName,disposeNameId,applyState,disposeDescription){\r\n      let res = updateProcessedApply({applyId: applyId,disposeName: disposeName,disposeNameId:disposeNameId,applyState :applyState,disposeDescription: disposeDescription})\r\n      console.log(\"审批损坏结果-----\",res)\r\n      if(res.state === 200){\r\n        this.$message({\r\n          type: 'success',\r\n          message: '删除成功咯!',\r\n        })\r\n        // 重新获取列表\r\n        this.getUnprocessedAssets(1)\r\n      }\r\n    },\r\n\r\n    // 上报提交操作\r\n    submitForm(){\r\n      this.$refs.dispose.validate((valid) => {\r\n        if (valid) {\r\n          this.dispose.disposeNameId = Number(this.dispose.disposeNameId)\r\n          console.log(\"处理提交按钮-----\",this.dispose);\r\n          this.postUpdateProcessedAssets(this.dispose.applyId,this.dispose.disposeName,this.dispose.disposeNameId,this.dispose.applyState,this.dispose.disposeDescription)\r\n          // 触发弹窗\r\n          this.dialogFormVisibleEdit = false\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    // table处理按钮\r\n    disposeButton(index, row){\r\n      console.log(\"处理操作-----\",index, row); \r\n      // 触发弹窗\r\n      this.dialogFormVisibleEdit = true\r\n      // 将弹窗标题修改\r\n      this.dialogFormVisibleTitle = \"物品损坏处理\"\r\n\r\n      // 往表单填展示数据(不可修改的)\r\n      this.dispose.applyNameId =  row.applyNameId             // 申请id\r\n      this.dispose.applyName = row.applyName                  // 申请人\r\n      this.dispose.applyAssets = row.applyAssets              // 申请金额\r\n      this.dispose.applyDescription = row.applyDescription    // 申请描述\r\n\r\n      // 往表单填数据(不显示出来但是要post的)\r\n      this.dispose.applyId = row.applyId                          // 申请信息id\r\n      this.dispose.applyState = row.applyState                    // 申请状态\r\n      this.dispose.disposeNameId = this.$store.state.login.id     // 处理人id\r\n      this.dispose.disposeName = this.$store.state.login.name     // 处理人姓名\r\n      // this.dispose.disposeDescription = row.disposeDescription // 处理描述不需要，因为v-model\r\n    },\r\n\r\n    // 更新页码\r\n    currentChange(val){\r\n      console.log(\"更新页码-----\",val);\r\n      this.pageNum = val\r\n      this.getUnprocessedAssets(val,this.pageSize)\r\n    },\r\n    // 上报列表函数\r\n    formatter(row, column) {\r\n      return row.applyAssets;\r\n    },\r\n    filterTag(value, row) {\r\n      return row.applyState === value;\r\n    },\r\n    clearFilter() {\r\n      this.$refs.filterTable.clearFilter();\r\n    },\r\n\r\n    // 跳转损坏审批\r\n    gotoMessageReported: throttle(function(){\r\n      this.$router.push({ name:\"admin_message_reported\" }).catch(err => err)\r\n    },1500),\r\n  },\r\n  \r\n  created() {\r\n    // 获取未处理损坏物品列表数据操作\r\n    this.getUnprocessedAssets(this.pageNum)\r\n  },\r\n\r\n  mounted() {\r\n    getMessageQuantity(this)\r\n    getUnprocessedReportNum().then( resReported => {\r\n      console.log(\"resReported\",resReported);\r\n      this.reportedMessage = resReported.data.data\r\n    } )\r\n    \r\n    getUnprocessedAssetsNum().then( resAssets => {\r\n      console.log(\"resAssets\",resAssets);\r\n      this.assetsMessage = resAssets.data.data\r\n    })\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  .messageAssets{\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(255, 255, 255, 0.6);\r\n    overflow-y: scroll;\r\n  }\r\n  .itemsText{\r\n    font-size: 38px;\r\n    margin-bottom: 20px;\r\n    padding-top: 2px;\r\n    padding-bottom: 3px;\r\n    background-color: #e0dbdb;\r\n    font-weight: bold;\r\n    color: gray;\r\n    text-align: center;\r\n    position: fixed;\r\n    width: 100%;\r\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px;\r\n    z-index: 1;\r\n  }\r\n  .messageHeader{\r\n    margin-top: 85px;\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    align-items: center;\r\n  }\r\n  .el-badge{\r\n    transform: scale(1.5);\r\n  }\r\n  .messageAssetsInner{\r\n    width: 80%;\r\n    font-size: 25px;\r\n    margin: 80px;\r\n    margin-top: 20px;\r\n  }\r\n  .assetsTable{\r\n    background-color: transparent;\r\n    border-radius: 15px;\r\n  }\r\n  ::v-deep .el-table th,\r\n  ::v-deep .el-table tr,\r\n  ::v-deep .el-table td {\r\n    background-color: rgba(255, 255, 255, 0.281) !important;\r\n  }\r\n  /* 去除底部白线 */\r\n  .el-table::before{\r\n    background-color: transparent;\r\n  }\r\n  .dialog-footer{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .pagination{\r\n    background-color: rgba(255, 255, 255, 0.815) !important;\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MessageAssets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MessageAssets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageAssets.vue?vue&type=template&id=c1b7b936&scoped=true&\"\nimport script from \"./MessageAssets.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageAssets.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageAssets.vue?vue&type=style&index=0&id=c1b7b936&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c1b7b936\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","attrs","reportedMessage","on","gotoMessageReported","_v","assetsMessage","ref","staticStyle","tableData","formatter","text","value","filterTag","scopedSlots","_u","key","fn","scope","_s","row","applyState","$event","disposeButton","$index","dialogFormVisibleEdit","dispose","rules","model","applyId","callback","$$v","$set","expression","applyName","applyDescription","applyAssets","_n","disposeDescription","submitForm","slot","total","totalPages","currentChange","staticRenderFns","name","components","Pagination","data","disposeNameId","disposeName","required","message","trigger","pageSize","pageNum","methods","getUnprocessedAssets","res","unprocessedApply","console","log","list","pages","forEach","e","applyTime","dayjs","format","postUpdateProcessedAssets","updateProcessedApply","state","$message","type","$refs","validate","valid","Number","index","dialogFormVisibleTitle","applyNameId","$store","login","id","val","column","clearFilter","filterTable","throttle","$router","push","catch","err","created","mounted","getMessageQuantity","getUnprocessedReportNum","then","resReported","getUnprocessedAssetsNum","resAssets","component"],"sourceRoot":""}