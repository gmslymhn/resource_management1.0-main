(self["webpackChunkresource"]=self["webpackChunkresource"]||[]).push([[369],{5369:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return f}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"damageReported"},[t._m(0),e("div",{staticClass:"damageReportedInner"},[e("el-form",{ref:"items",staticClass:"demo-ruleForm",attrs:{model:t.items,rules:t.rules}},[e("el-form-item",{attrs:{label:"物品id(请输入数字)",prop:"goodsId"}},[e("el-input",{model:{value:t.items.goodsId,callback:function(e){t.$set(t.items,"goodsId",t._n(e))},expression:"items.goodsId"}})],1),e("el-form-item",{attrs:{label:"物品名称",prop:"goodsName"}},[e("el-input",{model:{value:t.items.goodsName,callback:function(e){t.$set(t.items,"goodsName",e)},expression:"items.goodsName"}})],1),e("el-form-item",{attrs:{label:"上报描述",prop:"goodsProblem"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.items.goodsProblem,callback:function(e){t.$set(t.items,"goodsProblem",e)},expression:"items.goodsProblem"}})],1)],1),e("div",{staticClass:"damageReportedButton",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("上 报")]),e("el-button",{staticClass:"reportedList",attrs:{type:"success",round:""},on:{click:function(e){return t.reportedList()}}},[t._v("上报列表")])],1)],1),e("el-dialog",{staticClass:"itemsDialog",attrs:{title:"上报列表",visible:t.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[[e("el-button",{on:{click:t.clearFilter}},[t._v("重置过滤器")]),e("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"date",label:"日期",sortable:"",width:"180","column-key":"date"}}),e("el-table-column",{attrs:{prop:"people",label:"上报人",width:"180"}}),e("el-table-column",{attrs:{prop:"id",label:"物品id"}}),e("el-table-column",{attrs:{prop:"name",label:"物品名称",formatter:t.formatter}}),e("el-table-column",{attrs:{prop:"tag",label:"标签",width:"100",filters:[{text:"未处理",value:"未处理"},{text:"未同意",value:"未同意"},{text:"已同理未处理",value:"已同理未处理"},{text:"已处理",value:"已处理"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("el-tag",{attrs:{type:t.tagColor(r),"disable-transitions":""}},[t._v(t._s(r.row.tag))])]}}])})],1)],e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("关 闭")])],1)],2)],1)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"itemsText"},[e("p",{staticClass:"itemsTextP"},[t._v("物品审批上报")])])}],i=r(5743),a=r.n(i),o=r(455),u={name:"Content-DamageReported",data(){return{tableData:[{date:"2023-07-02 03:29:33",people:"王小虎",name:"物品名字",id:1,tag:"未处理"},{date:"2023-07-04 03:29:33",people:"王小虎",name:"物品名字",id:1,tag:"未同意"},{date:"2023-07-01 03:29:33",people:"王小虎",name:"物品名字",id:1,tag:"已同理未处理"},{date:"2023-07-03 03:29:33",people:"王小虎",name:"物品名字",id:1,tag:"已处理"}],items:{goodsPeople:"",goodsId:"",goodsName:"",goodsProblem:"",goodsTime:"",goodsTag:""},dialogFormVisible:!1,rules:{goodsId:[{required:!0,message:"请输入物品id",trigger:"blur"}],goodsName:[{required:!0,message:"请输入物品名称",trigger:"blur"}],goodsProblem:[{required:!0,message:"请输入损坏描述",trigger:"blur"}]}}},methods:{async postDamageReported(t){let e=await(0,o.K$)({items:t});console.log("上报提交-----",e.data)},submitForm(t){this.$refs.items.validate((t=>{if(!t)return console.log("error submit!!"),!1;console.log("validate-----",this.$refs.items),this.goodsTime=a()(Date.now()).format("YYYY-MM-DD HH:mm:ss"),this.postDamageReported(this.items)}))},reportedList(){this.dialogFormVisible=!0},formatter(t,e){return t.name},filterTag(t,e){return e.tag===t},clearFilter(){this.$refs.filterTable.clearFilter()},tagColor(t){return"未处理"===t.row.tag?"info":"未同意"===t.row.tag?"danger":"已同理未处理"===t.row.tag?"warning":"已处理"===t.row.tag?"success":void 0}}},l=u,c=r(1001),d=(0,c.Z)(l,s,n,!1,null,"7189c59c",null),f=d.exports},5743:function(t){!function(e,r){t.exports=r()}(0,(function(){"use strict";var t=1e3,e=6e4,r=36e5,s="millisecond",n="second",i="minute",a="hour",o="day",u="week",l="month",c="quarter",d="year",f="date",m="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},$=function(t,e,r){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(r)+t},b={s:$,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),s=Math.floor(r/60),n=r%60;return(e<=0?"+":"-")+$(s,2,"0")+":"+$(n,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var s=12*(r.year()-e.year())+(r.month()-e.month()),n=e.clone().add(s,l),i=r-n<0,a=e.clone().add(s+(i?-1:1),l);return+(-(s+(r-n)/(i?n-a:a-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:d,w:u,d:o,D:f,h:a,m:i,s:n,ms:s,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",y={};y[v]=p;var D=function(t){return t instanceof _},M=function t(e,r,s){var n;if(!e)return v;if("string"==typeof e){var i=e.toLowerCase();y[i]&&(n=i),r&&(y[i]=r,n=i);var a=e.split("-");if(!n&&a.length>1)return t(a[0])}else{var o=e.name;y[o]=e,n=o}return!s&&n&&(v=n),n||!s&&v},w=function(t,e){if(D(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new _(r)},S=b;S.l=M,S.i=D,S.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function p(t){this.$L=M(t.locale,null,!0),this.parse(t)}var $=p.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(h);if(s){var n=s[2]-1||0,i=(s[7]||"0").substring(0,3);return r?new Date(Date.UTC(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)):new Date(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return S},$.isValid=function(){return!(this.$d.toString()===m)},$.isSame=function(t,e){var r=w(t);return this.startOf(e)<=r&&r<=this.endOf(e)},$.isAfter=function(t,e){return w(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<w(t)},$.$g=function(t,e,r){return S.u(t)?this[e]:this.set(r,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,e){var r=this,s=!!S.u(e)||e,c=S.p(t),m=function(t,e){var n=S.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return s?n:n.endOf(o)},h=function(t,e){return S.w(r.toDate()[t].apply(r.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},g=this.$W,p=this.$M,$=this.$D,b="set"+(this.$u?"UTC":"");switch(c){case d:return s?m(1,0):m(31,11);case l:return s?m(1,p):m(0,p+1);case u:var v=this.$locale().weekStart||0,y=(g<v?g+7:g)-v;return m(s?$-y:$+(6-y),p);case o:case f:return h(b+"Hours",0);case a:return h(b+"Minutes",1);case i:return h(b+"Seconds",2);case n:return h(b+"Milliseconds",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(t,e){var r,u=S.p(t),c="set"+(this.$u?"UTC":""),m=(r={},r[o]=c+"Date",r[f]=c+"Date",r[l]=c+"Month",r[d]=c+"FullYear",r[a]=c+"Hours",r[i]=c+"Minutes",r[n]=c+"Seconds",r[s]=c+"Milliseconds",r)[u],h=u===o?this.$D+(e-this.$W):e;if(u===l||u===d){var g=this.clone().set(f,1);g.$d[m](h),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[S.p(t)]()},$.add=function(s,c){var f,m=this;s=Number(s);var h=S.p(c),g=function(t){var e=w(m);return S.w(e.date(e.date()+Math.round(t*s)),m)};if(h===l)return this.set(l,this.$M+s);if(h===d)return this.set(d,this.$y+s);if(h===o)return g(1);if(h===u)return g(7);var p=(f={},f[i]=e,f[a]=r,f[n]=t,f)[h]||1,$=this.$d.getTime()+s*p;return S.w($,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||m;var s=t||"YYYY-MM-DDTHH:mm:ssZ",n=S.z(this),i=this.$H,a=this.$m,o=this.$M,u=r.weekdays,l=r.months,c=r.meridiem,d=function(t,r,n,i){return t&&(t[r]||t(e,s))||n[r].slice(0,i)},f=function(t){return S.s(i%12||12,t,"0")},h=c||function(t,e,r){var s=t<12?"AM":"PM";return r?s.toLowerCase():s};return s.replace(g,(function(t,s){return s||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return S.s(e.$y,4,"0");case"M":return o+1;case"MM":return S.s(o+1,2,"0");case"MMM":return d(r.monthsShort,o,l,3);case"MMMM":return d(l,o);case"D":return e.$D;case"DD":return S.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(r.weekdaysMin,e.$W,u,2);case"ddd":return d(r.weekdaysShort,e.$W,u,3);case"dddd":return u[e.$W];case"H":return String(i);case"HH":return S.s(i,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return h(i,a,!0);case"A":return h(i,a,!1);case"m":return String(a);case"mm":return S.s(a,2,"0");case"s":return String(e.$s);case"ss":return S.s(e.$s,2,"0");case"SSS":return S.s(e.$ms,3,"0");case"Z":return n}return null}(t)||n.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(s,f,m){var h,g=this,p=S.p(f),$=w(s),b=($.utcOffset()-this.utcOffset())*e,v=this-$,y=function(){return S.m(g,$)};switch(p){case d:h=y()/12;break;case l:h=y();break;case c:h=y()/3;break;case u:h=(v-b)/6048e5;break;case o:h=(v-b)/864e5;break;case a:h=v/r;break;case i:h=v/e;break;case n:h=v/t;break;default:h=v}return m?h:S.a(h)},$.daysInMonth=function(){return this.endOf(l).$D},$.$locale=function(){return y[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),s=M(t,e,!0);return s&&(r.$L=s),r},$.clone=function(){return S.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},p}(),k=_.prototype;return w.prototype=k,[["$ms",s],["$s",n],["$m",i],["$H",a],["$W",o],["$M",l],["$y",d],["$D",f]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=M,w.isDayjs=D,w.unix=function(t){return w(1e3*t)},w.en=y[v],w.Ls=y,w.p={},w}))},455:function(t,e,r){"use strict";r.d(e,{Hv:function(){return o},K$:function(){return l},nq:function(){return c},sX:function(){return a},uQ:function(){return u},up:function(){return i}});var s=r(9060);const n="admReport",i=()=>{s.Z.get(n+"/getALLReport")},a=({id:t})=>{s.Z.get(n+"/selectById",{params:{goodId:t}})},o=({reportName:t})=>{s.Z.get(n+"/selectByReportName",{params:{reportName:t}})},u=({disposeName:t})=>{s.Z.get(n+"/selectByDisposeName",{params:{disposeName:t}})},l=t=>s.Z.post(n+"/admgoods/addGoods/",{report:t}),c=t=>s.Z.get(n+"/deleteReport",{params:{goodId:t}})},9060:function(t,e,r){"use strict";var s=r(4161);r(8499),r(7371);const n=s.Z.create({baseURL:"/admin",timeout:1e4});let i;n.interceptors.request.use((t=>t),(t=>Promise.reject(t))),n.interceptors.response.use((t=>(i.close(),t)),(t=>(setTimeout((()=>{i.close()}),1e3),Promise.reject(t)))),e.Z=n}}]);
//# sourceMappingURL=369.5d7f9c0a.js.map